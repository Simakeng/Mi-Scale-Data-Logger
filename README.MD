# Xiao Mi Scale 2 Data Logger

I want to monitor and record the data generated by my scale in real time, so came up with this program.

In order to make this program work on your scale, you need to set your scale bluetooth address in Config.ini.

The recived data will stored into an sqlite3 database.

Xiao Mi Scale will advertise all weight data in the format below:

| offset | length | function                |
| ------ | ------ | ----------------------- |
| 0x00   | 1      | status byte (see below) |
| 0x01   | 2      | weight                  |
| 0x03   | 2      | year                    |
| 0x05   | 1      | month                   |
| 0x06   | 1      | day                     |
| 0x07   | 1      | hour                    |
| 0x08   | 1      | minute                  |
| 0x09   | 1      | second                  |

All data is encoded with **little endian**, and the status functions like below:

| MSB     |        |           |          |        | LSB      |
| ------- | ------ | --------- | -------- | ------ | -------- |
| 1       | 2      | 3         | 4        | 5 - 7  | 8        |
| Removed | unknow | Stablized | jin unit | unknow | lbs unit |

- jin("æ–¤") is a chinese unit which 1 jin = 0.5kg
- "Removed" means the weight on the scale (eg. you) has left the scale
- The weight date and time is only valid if the stabilized flag is '1' and the weight removed flag is '0'

Huge thank for the data format shown by the contributors of this article:

https://github.com/oliexdev/openScale/wiki/Xiaomi-Bluetooth-Mi-Scale?tdsourcetag=s_pctim_aiomsg